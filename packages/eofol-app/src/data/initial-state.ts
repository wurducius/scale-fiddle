import { FiddleStateImpl } from "../types";
import { DEFAULT_SCALE_INPUT, DEFAULT_SCALE_NAME } from "./constants";

export const initialState = {
  init: true,
  scaleInput: DEFAULT_SCALE_INPUT,
  scales: [{ name: DEFAULT_SCALE_NAME, scaleInput: DEFAULT_SCALE_INPUT }],
  scaleIndex: 0,
  periodCent: 1200,
  scaleInvalid: false,
  scaleError: "",
  tab: 0,
  smallTab: 0,
  docsTab: 0,
  tuning: {
    baseFreq: 220,
    period: 2,
    keysUp: 24,
    keysDown: 12,
  },
  form: {
    edo: {
      open: false,
      N: 12,
    },
    mos: {
      open: false,
      N: 12,
      T: 7,
    },
    linear: {
      open: false,
      up: 12,
      down: 0,
      g: "700.",
    },
    meantone: {
      open: false,
      up: 6,
      down: 6,
      comma: 4,
    },
    harm: {
      open: false,
      up: 12,
      down: 0,
    },
    just: {
      open: false,
      up: "6",
      down: "6",
      limit: "3",
    },
    ratiochord: {
      open: false,
      chord: "2:3:4:5",
    },
    limit: {
      open: false,
      limit: "3,5",
      up: "6,4",
      down: "6,0",
      commas: "81/80,23.46",
      epsilon: 1,
    },
    higher: {
      open: false,
      generators: "700.,200.",
      stepsUp: "12,3",
      stepsDown: "0,0",
      offset: "0.,0.",
    },
    preset: {
      open: false,
      id: "major-scale",
    },
    transpose: {
      open: false,
      t: 100,
    },
    mode: {
      open: false,
      index: 5,
    },
    subset: {
      open: false,
      subscale: "2, 2, 1, 2, 1",
    },
    multiply: {
      open: false,
      multiplier: 1.1,
    },
    reverse: {
      open: false,
    },
    sort: {
      open: false,
    },
    stretch: {
      open: false,
      multiplier: 1.1,
    },
    approxequal: {
      open: false,
      N: 12,
    },
    temper: {
      open: false,
      commas: "81/80, 5311441/524288",
      epsilon: 0.0001,
    },
  },
  recompute: false,
  synth: {
    totalGain: 1,
    organ: true,
    envelopeType: "adsr",
    attackGain: 1,
    attackTime: 0.002,
    attackCurve: "exponential",
    decayGain: 0.9,
    decayTime: 0.02,
    decayCurve: "linear",
    sustainGain: 0.7,
    sustainTime: 0.02,
    sustainCurve: "linear",
    releaseGain: 0.7,
    releaseTime: 0.1,
    releaseCurve: "linear",
    waveformType: "preset",
    waveformPreset: "distorted-organ",
    fromTuningLength: 7,
    fromTuningIterations: 20,
    customLength: 5,
    customCoefficients: [
      [1, 0],
      [0, 1],
      [1, 0],
      [0, 1],
      [1, 0],
    ],
    customEnvelopeLength: 4,
    customEnvelopeGain: [1, 0.7, 0.7, 0.7],
    customEnvelopeTime: [0.002, 0.02, 0.02, 0.1],
    customEnvelopeCurve: ["exponential", "linear", "linear", "linear"],
    layout: "linear",
    layoutIsoUp: 5,
    layoutIsoRight: 1,
    layoutPianoColor: "w b w b w w b w b w b w",
  },
  options: {
    decimalDigitsFreq: 3,
    decimalDigitsFreqOnKeys: 1,
    decimalDigitsCent: 1,
    decimalDigitsRatio: 3,
    startGain: 0.001,
    startTime: 0.001,
    endGain: 0.001,
    endTime: 0.001,
    keyLabel: "freq",
    theme: "dark-cyan",
  },
  analyze: {
    intervalMatrixUnits: "cent",
  },
} as FiddleStateImpl;
